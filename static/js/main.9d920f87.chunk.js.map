{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","hooks/useFormValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/PopupWithConfirm.js","utils/auth.js","components/ProtectedRoute.js","components/AuthForm.js","components/Register.js","components/Login.js","images/sing-up-success.svg","images/sing-up-failed.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","onSingOut","userEmail","location","useLocation","className","alt","src","headerLogo","pathname","to","type","onClick","CurrentUserContext","createContext","Card","card","onCardClick","onCardDeleteConfirm","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","style","backgroundImage","avatar","about","aria-label","map","Footer","Date","getFullYear","Modal","setAppElement","ImagePopup","isOpen","onClose","overlayClassName","closeTimeoutMS","onRequestClose","shouldCloseOnOverlayClick","PopupWithForm","title","onSubmit","children","isDisabled","isLoadingData","buttonTitle","noValidate","disabled","useFormValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","evt","target","value","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","handleUpdateUser","useEffect","preventDefault","onChange","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","api","baseUrl","headers","this","_baseUrl","_headers","token","fetch","Authorization","then","_getResData","data","method","body","JSON","stringify","newCard","dislikeCard","likeCard","Promise","all","getInitialCards","getUserInfo","res","ok","json","reject","status","PopupWithConfirm","auth","password","email","ProtectedRoute","Component","component","props","AuthForm","Register","onRegistration","Login","onLogin","InfoTooltip","isSuccess","icon","successIcon","failIcon","infoTooltipTitle","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditProfilePopupOpen","isImagePopupOpen","setImagePopupOpen","isPopupWithConfirmOpen","setIsPopupWithConfirmOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","isLoading","setIsLoading","isLoadingPage","setIsLoadingPage","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","setCards","setCurrentUser","setLoggedIn","setUserEmail","isSuccessSignUp","setIsSuccessSignUp","setToken","history","useHistory","handleCheckToken","localStorage","getItem","checkToken","push","catch","err","console","log","finally","closeAllPopups","getAppData","cardsData","userData","color","size","Provider","removeItem","path","register","authorize","setItem","exact","changeLikeCardStatus","c","setUserInfo","setAvatar","addCard","deleteCard","filter","elem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9d920f87.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import headerLogo from '../images/header-logo.svg';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nfunction Header({ loggedIn, onSingOut, userEmail }) {\n\n  const location = useLocation();\n\n  return (\n    <header className={loggedIn ? \"header header_row-reverse\" : \"header\"}>\n        <img alt=\"логотип mesto\" className=\"header__logo\" src={headerLogo} />\n        {!loggedIn &&\n          (<nav>\n            {location.pathname === \"/sign-in\" && (<NavLink className=\"header__navlink\" to=\"/sign-up\">Регистрация</NavLink>)}\n            {location.pathname === \"/sign-up\" && (<NavLink className=\"header__navlink\" to=\"/sign-in\">Войти</NavLink>)}\n          </nav>\n          )\n        }\n      {loggedIn &&\n        (\n          <div className=\"header__container\">\n            <p className=\"header__email-address\">{userEmail}</p>\n            <button className=\"header__logout-btn\" type=\"button\" onClick={onSingOut}>Выйти</button>\n          </div>\n        )\n      }\n    </header>\n  )\n}\n\nexport default Header;","import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","import { useContext } from 'react';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card({ card, onCardClick, onCardDeleteConfirm, onCardLike }) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = card.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__delete-button button-opacity ${isOwn ? 'card__delete-button_visible' : 'card__delete-button_hidden'}`\n  );\n\n  const isLiked = card.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = (\n    `card__like-button button-opacity ${isLiked ? 'card__like-button_active' : 'card__like-button button-opacity'}`\n  );\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card, isLiked);\n  }\n\n  function handleCardDeleteConfirm() {\n    onCardDeleteConfirm(card);\n  }\n\n  return (\n\n    <article className=\"card\">\n      <img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick} />\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDeleteConfirm}></button>\n      <div className=\"card__container\">\n        <h3 className=\"card__heading\">{card.name}</h3>\n        <div className=\"card__like-container\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <span className=\"card__like-count\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n\n  )\n}\n\nexport default Card;","import { useContext } from 'react';\nimport Card from './Card';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main({ cards, onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDeleteConfirm }) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }}>\n          <button className=\"profile__avatar-edit-button\" type=\"button\" onClick={onEditAvatar}></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button button-opacity\" onClick={onEditProfile}></button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button button-opacity\" type=\"button\" onClick={onAddPlace}></button>\n      </section>\n\n      <section className=\"cards\" aria-label=\"карточки\">\n        {cards.map(card =>\n          <Card card={card}\n            key={card._id}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDeleteConfirm={onCardDeleteConfirm} />)}\n      </section>\n\n    </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nimport Modal from 'react-modal';\nModal.setAppElement('#root');\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n  return (\n    <Modal\n      isOpen={isOpen}\n      className=\"popup__container popup__container_type_full-image\"\n      overlayClassName={`popup popup_type_full-image ${card && isOpen ? 'popup_opened' : null}`}\n      closeTimeoutMS={250}\n      onRequestClose={onClose}\n      shouldCloseOnOverlayClick={true}\n    >\n          <img className=\"popup__full-image\" src={card?.link} alt={card?.name} />\n          <button className=\"popup__close-button button-opacity\" type=\"button\" onClick={onClose}></button>\n          <h3 className=\"popup__full-image-heading\">{card ? card.name : ''}</h3>    \n    </Modal>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\n\nimport Modal from 'react-modal';\nModal.setAppElement('#root');\n\nfunction PopupWithForm({name, isOpen, title, onSubmit, onClose, children, isDisabled, isLoadingData, buttonTitle}) {\n  return (\n    \n    <Modal\n      isOpen={isOpen}\n      className='popup__container'\n      overlayClassName={`popup popup_type_${name} ${(isOpen) ? 'popup_opened' : ''}`}\n      closeTimeoutMS={250}\n      onRequestClose={onClose}\n      shouldCloseOnOverlayClick={true}\n    >\n\n        <button className=\"popup__close-button button-opacity\" type=\"button\" onClick={onClose}></button>\n        <h2 className=\"popup__heading\">{title}</h2>\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} noValidate>\n          <fieldset className=\"popup__form-container\">\n            {children}\n            <button disabled={isDisabled}\n              className={isDisabled ? \"popup__form-btn popup__form-btn_disabled\" : \"popup__form-btn button-opacity\"}\n              type=\"submit\" >\n              {isLoadingData ? \"Сохранение...\" : buttonTitle}\n            </button>\n          </fieldset>\n        </form>\n    </Modal>\n  )\n}\n\nexport default PopupWithForm;","import { useState, useCallback } from \"react\";\n\nexport function useFormValidation() {\n\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(false);\n\n  function handleChange(evt) {\n    const name = evt.target.name;\n    const value = evt.target.value;\n\n    setValues({\n      ...values,\n      [name]: value\n    });\n\n    setErrors({\n      ...errors,\n      [name]: evt.target.validationMessage\n    });\n\n    setIsValid(evt.target.closest('.popup__form').checkValidity());\n\n  }\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  )\n\n  return {\n    values,\n    errors,\n    isValid,\n    handleChange,\n    resetForm\n  };\n\n};","import PopupWithForm from './PopupWithForm';\nimport { useEffect, useContext } from 'react';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport { useFormValidation } from '../hooks/useFormValidation';\n\nfunction EditProfilePopup({ onUpdateUser, isOpen, handleUpdateUser, onClose, isLoadingData }) {\n\n    const {\n        values,\n        errors,\n        isValid,\n        handleChange,\n        resetForm\n    } = useFormValidation({});\n\n    const currentUser = useContext(CurrentUserContext);\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onUpdateUser(values);\n    }\n\n    useEffect(() => {\n        if (currentUser) {\n            resetForm(currentUser);\n        }\n    }, [currentUser, resetForm, isOpen]);\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onUpdateUser={handleUpdateUser}\n            onClose={onClose}\n            isLoadingData={isLoadingData}\n            onSubmit={handleSubmit}\n            isDisabled={!isValid}\n            buttonTitle=\"Сохранить\"\n            name=\"profileForm\"\n            title=\"Редактировать профиль\">\n            <input className={errors.name ? \"popup__form-text popup__form-text_type_error\" : \"popup__form-text\"}\n                type=\"text\" name=\"name\" value={values.name || ''} onChange={handleChange} id=\"name-input\" placeholder=\"Имя\"\n                minLength=\"2\" maxLength=\"40\" required />\n            <span className={errors.name ? \"popup__form-text-error  popup__form-text-error_visible\" : \"popup__form-text-error\"}\n                id=\"name-input-error\">{errors.name}</span>\n            <input className={errors.about ? \"popup__form-text popup__form-text_type_error\" : \"popup__form-text\"}\n                type=\"text\" name=\"about\" onChange={handleChange} id=\"about-input\" placeholder=\"О себе\"\n                minLength=\"2\" maxLength=\"200\" value={values.about || ''} required />\n            <span className={errors.about ? \"popup__form-text-error  popup__form-text-error_visible\" : \"popup__form-text-error\"}>{errors.about}</span>\n        </PopupWithForm>\n    )\n}\n\n\nexport default EditProfilePopup;\n","import PopupWithForm from './PopupWithForm';\nimport { useEffect } from 'react';\n\nimport { useFormValidation } from '../hooks/useFormValidation';\n\n\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose, isLoadingData }) {\n    const {\n        values,\n        errors,\n        isValid,\n        handleChange,\n        resetForm\n    } = useFormValidation({});\n\n    function handleSubmit(evt) {\n        evt.preventDefault(evt);\n        onUpdateAvatar(values);\n    }\n\n    useEffect(() => {\n        resetForm();\n    }, [isOpen, resetForm])\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            isLoadingData={isLoadingData}\n            isDisabled={!isValid}\n            onSubmit={handleSubmit}\n            buttonTitle=\"Сохранить\"\n            name=\"avatarForm\"\n            title=\"Обновить аватар\">\n            <input className={errors.avatar ? \"popup__form-text popup__form-text_type_error\" : \"popup__form-text\"}\n                placeholder=\"Ссылка на картинку\" type=\"url\"\n                name=\"avatar\" id=\"avatar-url-input\" required\n                value={values.avatar || ''}\n                onChange={handleChange} />\n            <span className={errors.avatar ? \"popup__form-text-error popup__form-text-error_visible\" : \"popup__form-text-error\"}>{errors.avatar}</span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\nimport { useEffect } from 'react';\n\nimport { useFormValidation } from '../hooks/useFormValidation';\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose, isLoadingData, }) {\n\n    const {\n        values,\n        errors,\n        isValid,\n        handleChange,\n        resetForm\n    } = useFormValidation({});\n\n    function handleSubmit(evt) {\n        evt.preventDefault(evt);\n        onAddPlace(values);\n    }\n\n    useEffect(() => {\n        resetForm();\n    }, [isOpen, resetForm])\n\n    return (\n        <PopupWithForm\n            isOpen={isOpen}\n            onClose={onClose}\n            isLoadingData={isLoadingData}\n            onSubmit={handleSubmit}\n            isDisabled={!isValid}\n            buttonTitle=\"Создать\"\n            name=\"cardForm\"\n            title=\"Новое место\">\n            <input className={errors.name ? \"popup__form-text popup__form-text_type_error\" : \"popup__form-text\"}\n                placeholder=\"Название\" type=\"text\"\n                name=\"name\" id=\"card-heading-input\" minLength=\"1\" maxLength=\"30\"\n                value={values.name || ''} required onChange={handleChange} />\n            <span className={errors.name ? \"popup__form-text-error  popup__form-text-error_visible\" : \"popup__form-text-error\"}\n                id=\"card-heading-input-error\">{errors.name}</span>\n            <input className={errors.link ? \"popup__form-text popup__form-text_type_error\" : \"popup__form-text\"}\n                placeholder=\"Ссылка на картинку\" type=\"url\"\n                name=\"link\" id=\"card-link-input\" value={values.link || ''} required onChange={handleChange} />\n            <span className={errors.link ? \"popup__form-text-error popup__form-text-error_visible\" : \"popup__form-text-error\"}\n                id=\"card-link-input-error\">{errors.link}</span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","class Api {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n\n    getUserInfo(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n        })\n            .then(this._getResData);\n    }\n\n    setUserInfo(data, token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about\n            })\n        })\n            .then(this._getResData);\n    }\n\n    getInitialCards(token) {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n        })\n            .then(this._getResData);\n    }\n\n    addCard(newCard, token) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`,\n            },\n            body: JSON.stringify({\n                name: newCard.name,\n                link: newCard.link,\n            })\n        })\n            .then(this._getResData);\n    }\n\n    deleteCard(id, token) {\n        return fetch(`${this._baseUrl}/cards/${id}`, {\n            method: 'DELETE',\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n        })\n            .then(this._getResData);\n    }\n\n    changeLikeCardStatus(id, isLiked, token) {\n        if (isLiked) {\n            return this.dislikeCard(id, token);\n        } else {\n            return this.likeCard(id, token);\n        }\n    }\n\n    likeCard(id, token) {\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n            method: 'PUT',\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n        })\n            .then(this._getResData);\n    }\n\n    dislikeCard(id, token) {\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n            method: 'DELETE',\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n        })\n            .then(this._getResData);\n    }\n\n    setAvatar(data, token) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n            body: JSON.stringify({ avatar: data.avatar }),\n        })\n            .then(this._getResData);\n\n    }\n\n    getAppData(token) {\n        return Promise.all([this.getInitialCards(token), this.getUserInfo(token)]);\n    }\n\n    _getResData(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n}\n\nconst api = new Api({\n    // baseUrl: 'https://api.zb.students.nomoredomains.club',\n    baseUrl: 'http://localhost:3000',\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n    }\n});\n\n\nexport default api\n","import PopupWithForm from './PopupWithForm';\n\nfunction PopupWithConfirm({ title, buttonTitle, isOpen, onClose, onSubmit }) {\n\n    \n  return (\n    <PopupWithForm\n      name=\"confirm\"\n      title={title}\n      buttonTitle={buttonTitle}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={onSubmit}\n    />\n  )\n}\n\nexport default PopupWithConfirm;","class Auth {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    register(data) {\n        return fetch(`${this._baseUrl}/signup`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                password: data.password,\n            })\n        }).then(this._getResData)\n    }\n\n    authorize(data) {\n        return fetch(`${this._baseUrl}/signin`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                password: data.password,\n                email: data.email\n            })\n        }).then(this._getResData);\n    }\n\n    checkToken(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: {\n                ...this._headers,\n                Authorization: `Bearer ${token}`\n            },\n        }).then(this._getResData)\n    }\n\n    _getResData(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n}\n\nconst auth = new Auth({\n    // baseUrl: 'https://api.zb.students.nomoredomains.club',\n    baseUrl: 'http://localhost:3000',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n})\n\nexport default auth;\n","import { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />}\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","function AuthForm({ title, buttonTitle, isValid, onSubmit, children }) {\n    return (\n\n        <div className=\"popup__container popup__container_theme_dark\">\n            <h2 className=\"popup__heading popup__heading_theme_dark\">{title}</h2>\n            <form className=\"popup__form\" onSubmit={onSubmit} noValidate>\n                <fieldset className=\"popup__form-container\">\n                    {children}\n                    <button className={!isValid ? \"popup__form-btn popup__form-btn_theme_dark popup__form-btn_disabled\" : \"popup__form-btn popup__form-btn_theme_dark button-opacity\"}\n                        type=\"submit\"\n                        disabled={!isValid}>\n                        {buttonTitle}\n                    </button>\n                </fieldset>\n            </form>\n        </div>\n\n    )\n}\n\nexport default AuthForm;\n","import { useFormValidation } from '../hooks/useFormValidation';\nimport { Link } from 'react-router-dom';\nimport AuthForm from './AuthForm';\n\nfunction Register({ onRegistration }) {\n\n    const {\n        values,\n        errors,\n        isValid,\n        handleChange,\n    } = useFormValidation({});\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onRegistration(values);\n    }\n\n    return (\n        <AuthForm\n            title=\"Регистрация\"\n            buttonTitle=\"Зарегистрироваться\"\n            isValid={isValid}\n            onSubmit={handleSubmit}\n        >\n            <input className=\"popup__form-text popup__form-text_theme_dark\"\n                type=\"email\" name=\"email\" value={values.email || ''} onChange={handleChange} id=\"login-email\" placeholder=\"Email:\"\n                required />\n            <span className={errors.email ? \"popup__form-text-error  popup__form-text-error_visible\" : \"popup__form-text-error\"}\n                id=\"login-email-error\">{errors.email}</span>\n            <input className=\"popup__form-text popup__form-text_theme_dark\"\n                type=\"password\" name=\"password\" onChange={handleChange} id=\"login-password\" placeholder=\"Пароль:\"\n                value={values.password || ''} required />\n            <span className={errors.password ? \"popup__form-text-error  popup__form-text-error_visible\" : \"popup__form-text-error\"}>{errors.password}</span>\n            <p className=\"popup__form-paragraph\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"popup__form-link\">Войти</Link></p>\n        </AuthForm>\n    )\n}\n\nexport default Register;\n","import AuthForm from './AuthForm';\n\nimport { useFormValidation } from '../hooks/useFormValidation';\n\nfunction Login({ onLogin }) {\n\n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n  } = useFormValidation({});\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onLogin(values);\n  }\n\n  return (\n    <AuthForm\n      title=\"Вход\"\n      buttonTitle=\"Войти\"\n      isValid={isValid}\n      onSubmit={handleSubmit}\n    >\n        <input className=\"popup__form-text popup__form-text_theme_dark\"\n                type=\"email\" name=\"email\" value={values.email || ''} onChange={handleChange} id=\"login-email\" placeholder=\"Email:\"\n                required />\n            <span className={errors.email ? \"popup__form-text-error  popup__form-text-error_visible\" : \"popup__form-text-error\"}\n                id=\"login-email-error\">{errors.email}</span>\n            <input className=\"popup__form-text popup__form-text_theme_dark\"\n                type=\"password\" name=\"password\" onChange={handleChange} id=\"login-password\" placeholder=\"Пароль:\"\n                value={values.password || ''} required />\n            <span className={errors.password ? \"popup__form-text-error  popup__form-text-error_visible\" : \"popup__form-text-error\"}>{errors.password}</span>\n    </AuthForm>\n  )\n}\n\nexport default Login;","export default __webpack_public_path__ + \"static/media/sing-up-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/sing-up-failed.df8eddf6.svg\";","import successIcon from '../images/sing-up-success.svg'\nimport failIcon from '../images/sing-up-failed.svg'\n\nimport Modal from 'react-modal';\nModal.setAppElement('#root');\n\nfunction InfoTooltip( {isOpen, onClose, isSuccess} ) {\n  const icon = isSuccess ? successIcon : failIcon;\n  const alt = isSuccess ? 'иконка успешной регистрации' : 'иконка не успешной регистрации';\n  const infoTooltipTitle = isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Пропробуйте ещё раз.';\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      className='popup__container popup__container_type_infotooltip'\n      overlayClassName={`popup ${(isOpen) ? 'popup_opened' : ''}`}\n      closeTimeoutMS={250}\n      onRequestClose={onClose}\n      shouldCloseOnOverlayClick={true}\n    >\n    <button className=\"popup__close-button button-opacity\" type=\"button\" onClick={onClose}></button>\n      <img className=\"popup__infotooltip-icon\"\n        src={icon}\n        alt={alt}\n      />\n      <h3 className=\"popup__infotooltip-title\">\n        {infoTooltipTitle}\n      </h3>\n    </Modal>\n  )\n}\n\nexport default InfoTooltip;\n","import { useState, useEffect, useCallback } from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithConfirm from './PopupWithConfirm';\nimport auth from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\n\nimport { Spinner } from 'react-spinners-css';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [isPopupWithConfirmOpen, setIsPopupWithConfirmOpen] = useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [isLoadingPage, setIsLoadingPage] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState(null);\n\n  const [cardForDelete, setCardForDelete] = useState({})\n\n  const [cards, setCards] = useState([]);\n\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [userEmail, setUserEmail] = useState(null);\n\n  const [isSuccessSignUp, setIsSuccessSignUp] = useState(false);\n\n  const [token, setToken] = useState('');\n\n  const history = useHistory();\n\n  const handleCheckToken = useCallback(\n    () => {\n      setIsLoadingPage(true)\n      const token = localStorage.getItem('jwt');\n\n      if (token) {\n        setToken(token);\n\n      auth.checkToken(token)\n        .then(\n          (res) => {\n            setLoggedIn(true);\n            setUserEmail(res.email);\n            history.push('/');\n          })\n        .catch((err) => { console.log(err) })\n        .finally(() => {\n          setIsLoadingPage(false)\n        });\n      }\n    },\n    [history]\n  );\n\n  useEffect(() => {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      handleCheckToken();\n    }\n  }, [handleCheckToken])\n\n  useEffect(() => {\n    if (loggedIn) {\n      setIsLoading(true)\n      const token = localStorage.getItem('jwt');\n      api.getAppData(token)\n        .then((data) => {\n          const [cardsData, userData] = data;\n          setCurrentUser(userData);\n          setCards(cardsData);\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n        .finally(() => {\n          setIsLoading(false)\n        });\n      }\n  }, [loggedIn])\n\n  function handleCardLike(card, isLiked) {\n\n    api.changeLikeCardStatus(card._id, isLiked, token)\n      .then(\n        (newCard) => {\n          setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c))\n        })\n      .catch((err) => { console.log(err) })\n  };\n\n  function handleCardDelete(evt) {\n    evt.preventDefault();\n    api.deleteCard(cardForDelete._id, token)\n      .then(\n        () => {\n          setCards((cards) => cards.filter((elem) => elem._id !== cardForDelete._id));\n          closeAllPopups();\n        })\n      .catch((err) => { console.log(err) })\n  };\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setImagePopupOpen(false);\n    setIsPopupWithConfirmOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null);\n  };\n\n  function handleEditAvatarClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  function handleCardDeleteConfirm(card) {\n    setCardForDelete(card);\n    setIsPopupWithConfirmOpen(true);\n  }\n\n  function handleInfoToolTipPopupOpen() {\n    setIsInfoTooltipOpen(true);\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true);\n    api.setUserInfo(data, token)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        })\n      .catch((err) => { console.log(err) })\n      .finally(() => {\n        setIsLoading(false)\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    setIsLoading(true);\n    api.setAvatar(data, token)\n      .then(\n        (data) => {\n          setCurrentUser(data);\n          closeAllPopups();\n        })\n      .catch((err) => { console.log(err) })\n      .finally(() => {\n        setIsLoading(false)\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setIsLoading(true);\n    api.addCard(data, token)\n      .then(\n        (newCard) => {\n          setCards([newCard, ...cards]);\n          closeAllPopups();\n        })\n      .catch((err) => { console.log(err) })\n      .finally(() => {\n        setIsLoading(false)\n      });\n  }\n\n  function handleRegistration(data) {\n    auth.register(data)\n      .then(\n        () => {\n          setIsSuccessSignUp(true);\n          history.push('/sign-in')\n        })\n      .catch((err) => {\n        console.log(err);\n        setIsSuccessSignUp(false);\n      })\n      .finally(() => {\n        handleInfoToolTipPopupOpen();\n      });\n  }\n\n  function handleAuthorization(data) {\n    auth.authorize(data)\n      .then((res) => {\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n        setToken(res.token);\n        setUserEmail(data.email);\n        history.push('/')\n      })\n      .catch((err) => { console.log(err) })\n  }\n\n  function handleSingOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setToken('');\n    history.push('/sign-in');\n  }\n\n  if (isLoadingPage) {\n    return (\n      <div className=\"spinner\">\n      <Spinner className=\"spinner__container\" color=\"white\" size={150} />\n      </div>\n    )\n  } else {\n    return (\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Header\n            loggedIn={loggedIn}\n            onSingOut={handleSingOut}\n            userEmail={userEmail}\n          />\n          <Switch>\n            <Route path=\"/sign-up\">\n              <Register onRegistration={handleRegistration} />\n            </Route>\n\n            <Route path=\"/sign-in\">\n              <Login onLogin={handleAuthorization} />\n            </Route>\n\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              component={Main}\n              loggedIn={loggedIn}\n              cards={cards}\n              onCardClick={handleCardClick}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardLike={handleCardLike}\n              onCardDeleteConfirm={handleCardDeleteConfirm}\n              onClose={closeAllPopups}\n            />\n          </Switch>\n\n          <Footer />\n\n          <ImagePopup\n            isOpen={isImagePopupOpen}\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoadingData={isLoading}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoadingData={isLoading}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            isLoadingData={isLoading}\n          />\n\n          <InfoTooltip\n            isOpen={isInfoTooltipOpen}\n            onClose={closeAllPopups}\n            isSuccess={isSuccessSignUp}\n          />\n\n          <PopupWithConfirm\n            isOpen={isPopupWithConfirmOpen}\n            onClose={closeAllPopups}\n            onSubmit={handleCardDelete}\n            title=\"Вы уверены?\"\n            buttonTitle=\"Да\"\n          />\n\n        </div>\n      </CurrentUserContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}